{% extends "include/layout.twig" %}
{% block body %}
    <h1>Catalog - {{category |title}}</h1>
    
    {% if articles %}
        
        {% for row in articles|batch(3) %}
            <div class="row">
                {% for article in row %}
                    <div class="col m4 s12">
                        <div class="card">
                            <div class="card-image">
                              <img src="{{ baseUrl ~ 'img/unicorn-pin-275-164.png' }}">
                              <a class="btn-floating halfway-fab waves-effect waves-light red articleAddButton" alt="unicorn picture" data-cartAddCall="{{ baseUrl ~ 'index.php/shop/cart/add/' ~ article.id }}"><i class="material-icons">add_shopping_cart</i></a>
                            </div>
                            <div class="card-content">
                              <span class="card-title">{{article.name}}</span>
                              <p>{{article.description|striptags|slice(0, 420) ~ '...'}}</p>
                            </div>
                            <div class="card-action">
                                <a href="#">{{article.priceHT}}â‚¬ HT</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endfor %}
    
        <div class="row">
            <div class="col m4 s0"></div>
            <div class="col m4 s12">
                <ul class="pagination">
                    <li class="disabled"><a href="#!"><i class="material-icons">chevron_left</i></a></li>
                    <li class="active"><a href="#!">1</a></li>
                    <li class="waves-effect"><a href="#!">2</a></li>
                    <li class="waves-effect"><a href="#!">3</a></li>
                    <li class="waves-effect"><a href="#!">4</a></li>
                    <li class="waves-effect"><a href="#!">5</a></li>
                    <li class="waves-effect"><a href="#!"><i class="material-icons">chevron_right</i></a></li>
                </ul>
            </div>
            <div class="col m4 s0"></div>
        </div>
    
    {% else %}
        {% block error %}
            <section class="row" id="errorInfoWarning">
                <div class="col m12 s12">
                    <p>We don't have any articles in this category yet</p>
                </div>
            </section>
        {% endblock error %}
        
    {% endif %}
    
{% endblock body %}